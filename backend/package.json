{
  "name": "careconnect-backend",
  "version": "1.0.0",
  "description": "CareConnect Backend API Server",
  "main": "dist/server.js",
  "scripts": {
    "dev": "tsx watch src/server.ts",
    "build": "tsc",
    "build:backend": "tsc",
    "start": "node dist/server.js",
    "start:prod": "NODE_ENV=production node dist/server.js",
    "doctor": "ts-node scripts/startup-doctor.ts",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:gate": "jest tests/gate --verbose",
    "test:unit": "jest tests/unit",
    "test:integration": "jest tests/integration",
    "test:parsing:core30": "jest src/tests/unit/parsing/core30.test.ts --verbose",
    "test:parsing:extended": "jest src/tests/unit/parsing/extended --verbose",
    "test:pipeline": "jest tests/pipeline --verbose",
    "test:pipeline:speech": "jest tests/pipeline/speechToDraft.pipeline.test.ts",
    "test:pipeline:docx": "jest tests/pipeline/speechToDocx.pipeline.test.ts",
    "test:pipeline:qr": "jest tests/pipeline/speechToQR.pipeline.test.ts",
    "test:pipeline:edges": "jest tests/pipeline/speechEdgeCases.pipeline.test.ts",
    "test:transcription": "jest tests/unit/transcriptionProvider.test.ts",
    "test:speech-analysis": "jest tests/unit/speechAnalysis.test.ts",
    "test:health": "jest tests/unit/healthAndAdminOps.test.ts",
    "test:coverage": "jest --coverage",
    "test:all": "npm run test:unit && npm run test:integration && npm run test:pipeline",
    "test:pipeline30": "jest tests/pipeline30 --verbose",
    "test:pipeline30:coverage": "jest tests/pipeline30 --coverage",
    "test:assemblyai-it": "RUN_ASSEMBLYAI_IT=true jest tests/unit/transcriptionProvider.test.ts -t 'Integration'",
    "test:qa:v1": "jest src/tests/qa-v1-zero-openai.test.ts",
    "test:qa:accuracy": "jest src/tests/qa-v1-zero-openai.test.ts -t 'Accuracy'",
    "test:qa:performance": "jest src/tests/qa-v1-zero-openai.test.ts -t 'Latency'",
    "test:qa:integration": "jest src/tests/qa-v1-zero-openai.test.ts -t 'Integration'",
    "test:connectivity": "jest tests/integration/connectivity-real.test.ts",
    "test:tunnel": "jest tests/routes/tunnel-basic.test.ts",
    "test:v2:intake": "jest tests/intake_v2 --verbose",
    "test:intensive": "tsx scripts/test-runner.ts",
    "test:intensive:staging": "tsx scripts/test-runner.ts staging",
    "test:intensive:integration": "tsx scripts/test-runner.ts integration",
    "test:intensive:load": "tsx scripts/test-runner.ts load",
    "test:intensive:dry-run": "tsx scripts/test-runner.ts --dry-run",
    "test:parsing-arch": "npm run test:parsing:l1 && npm run test:parsing:l2 && npm run test:parsing:l3 && npm run test:parsing:l4",
    "test:parsing:l1": "jest backend/tests/unit/parsing --verbose",
    "test:parsing:l2": "jest backend/tests/component/parsing --verbose",
    "test:parsing:l3": "jest backend/tests/integration/parsing --verbose",
    "test:parsing:l4": "jest backend/tests/integration/revenue --verbose",
    "test:parsing:helpers": "jest backend/tests/helpers --verbose",
    "test:parsing:fixtures": "jest --testNamePattern='fixture' backend/tests --verbose",
    "test:parsing:validation": "jest backend/tests/unit/parsing/rulesEngine.validation.test.ts --verbose",
    "test:parsing:quality": "jest --testNamePattern='quality|Quality' backend/tests --verbose",
    "test:parsing:telemetry": "jest backend/tests/component/parsing/telemetryExtraction.test.ts --verbose",
    "test:parsing:revenue": "jest backend/tests/integration/revenue/revenuePipelineProof.test.ts --verbose",
    "test:parsing:coverage": "jest backend/tests --coverage",
    "test:parsing:watch": "jest backend/tests/unit/parsing --watch",
    "typecheck": "tsc --noEmit",
    "typecheck:v2": "tsc --noEmit -p tsconfig.v2.json",
    "lint": "echo 'Linting not configured'",
    "format:check:v2": "npx prettier --check \"src/intake/v2/**/*.{ts,js}\"",
    "prisma:generate:ci": "prisma generate",
    "prisma:validate:ci": "prisma validate",
    "integrity:check": "npm run typecheck && npm test",
    "integrity:full": "npm run typecheck && npm test && npm run health:ping",
    "health:ping": "node -e \"fetch('http://localhost:3001/health/live').then(r => r.ok ? process.exit(0) : process.exit(1)).catch(() => process.exit(1))\"",
    "db:generate": "prisma generate",
    "db:push": "prisma db push",
    "db:migrate": "prisma migrate dev",
    "db:studio": "prisma studio",
    "stripe:cli:check": "node -e \"try{require('child_process').execSync('stripe --version',{stdio:'ignore'}); console.log('ok'); process.exit(0);}catch(e){console.error('stripe-cli-missing'); process.exit(1);}\"",
    "stripe:webhook:bootstrap": "ts-node --transpile-only src/scripts/stripe/bootstrap-webhook.ts",
    "email:inbox": "docker compose -f ../docker-compose.demo.yml up -d mailpit && echo 'Mailpit started at http://localhost:8025'",
    "db:up": "docker compose -f ../docker-compose.demo.yml up -d postgres && echo 'Postgres started at localhost:5432'",
    "db:down": "docker compose -f ../docker-compose.demo.yml down",
    "evts:model:install": "ts-node --transpile-only src/scripts/models/install-evts-model.ts",
    "eval:parsing": "tsx eval/runners/run_parsing_eval.ts",
    "eval:parsing:trace": "TRACE_PARSING=true TRACE_EXPORT=true tsx eval/runners/run_parsing_eval.ts",
    "eval:parsing:visual": "tsx eval/runners/run_parsing_eval.ts",
    "eval:parsing:simulation": "EVAL_MODE=simulation tsx eval/runners/run_parsing_eval.ts",
    "eval:parsing:binary": "EVAL_SCORING=binary tsx eval/runners/run_parsing_eval.ts",
    "eval:parsing:safe": "ZERO_OPENAI_MODE=true EVAL_MODE=simulation tsx eval/runners/run_parsing_eval.ts",
    "eval:v4:demo": "npm run eval:parsing:safe",
    "eval:v4:production": "EVAL_MODE=real EVAL_SCORING=weighted tsx eval/runners/run_parsing_eval.ts",
    "eval:analyze": "tsx eval/runners/analyze_eval_logs.ts",
    "eval:all": "npm run eval:parsing && npm run eval:analyze",
    "eval:v4plus:generate-fuzz": "tsx eval/v4plus/generators/generate_fuzz_cases.js",
    "eval:v4plus:generate-realistic": "tsx eval/v4plus/generators/generate_realistic_transcripts.js",
    "eval:v4plus:core": "tsx eval/v4plus/runners/run_eval_v4plus.js --dataset core30",
    "eval:v4plus:hard": "tsx eval/v4plus/runners/run_eval_v4plus.js --dataset hard60",
    "eval:v4plus:fuzz": "tsx eval/v4plus/runners/run_eval_v4plus.js --dataset fuzz200",
    "eval:v4plus:realistic": "tsx eval/v4plus/runners/run_eval_v4plus.js --dataset realistic50",
    "eval:v4plus:all": "tsx eval/v4plus/runners/run_eval_v4plus.js --dataset all",
    "eval:v1:baseline": "node eval/v1/run_zero_openai_eval.js",
    "eval:v1:stability": "node eval/v1/run_zero_openai_eval.js --stability --iterations=10",
    "eval:v1:stability:20": "node eval/v1/run_zero_openai_eval.js --stability --iterations=20",
    "eval:v1:quick": "npm run test:qa:v1"
  },
  "dependencies": {
    "@supabase/supabase-js": "^2.38.5",
    "@types/stripe": "^8.0.416",
    "assemblyai": "^4.22.1",
    "axios": "^1.6.2",
    "bcryptjs": "^2.4.3",
    "cheerio": "^1.2.0",
    "cookie-parser": "^1.4.7",
    "cors": "^2.8.5",
    "crypto-js": "^4.2.0",
    "docx": "^9.5.1",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "express-rate-limit": "^7.1.5",
    "express-validator": "^7.0.1",
    "form-data": "^4.0.0",
    "helmet": "^7.1.0",
    "jsonwebtoken": "^9.0.2",
    "morgan": "^1.10.0",
    "multer": "^1.4.5-lts.1",
    "node-cron": "^3.0.3",
    "nodemailer": "^7.0.11",
    "openai": "^4.20.1",
    "qrcode": "^1.5.4",
    "stripe": "^20.0.0",
    "uuid": "^9.0.1",
    "vader-sentiment": "^1.1.3",
    "zod": "^3.25.76"
  },
  "devDependencies": {
    "@prisma/client": "6.19.1",
    "@prisma/extension-optimize": "^2.0.1",
    "@prisma/instrumentation": "^6.19.1",
    "@types/adm-zip": "^0.5.5",
    "@types/bcryptjs": "^2.4.6",
    "@types/cookie-parser": "^1.4.10",
    "@types/cors": "^2.8.17",
    "@types/crypto-js": "^4.2.1",
    "@types/express": "^4.17.21",
    "@types/jest": "^29.5.8",
    "@types/jsonwebtoken": "^9.0.5",
    "@types/morgan": "^1.9.9",
    "@types/multer": "^1.4.11",
    "@types/node": "^24.10.1",
    "@types/node-cron": "^3.0.11",
    "@types/nodemailer": "^7.0.4",
    "@types/qrcode": "^1.5.6",
    "@types/supertest": "^2.0.16",
    "@types/uuid": "^9.0.7",
    "adm-zip": "^0.5.10",
    "concurrently": "^8.2.2",
    "jest": "^29.7.0",
    "jest-mock-extended": "^3.0.5",
    "nodemon": "^3.1.11",
    "prettier": "^3.8.1",
    "prisma": "6.19.1",
    "supertest": "^6.3.3",
    "ts-jest": "^29.1.1",
    "ts-node": "^10.9.2",
    "tsx": "^4.21.0",
    "typescript": "^5.9.3"
  }
}
